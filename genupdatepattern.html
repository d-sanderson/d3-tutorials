<!DOCTYPE html>
<meta charset="utf-8">
    <style>

    text {
        font: bold 48px monospace;
     }

    .enter  { 
        fill: green;
    }

    .update { 
        fill: #333;
     }  
    </style>
    <head>
    <title>General Update Pattern 1</title>
    </head>
		
		<a href="../index.html"> Home </a>
		<br />	
        <svg width="960" height="500"></svg>

        <script src="//d3js.org/d3.v5.min.js"></script>
				
				<script>

                //declare variables
                var alphabet = "abcdefghijklmnopqrstuvwxyz".split("");

                var svg = d3.select("svg"),
                width = +svg.attr("width"),
                height = +svg.attr("height"),
                g = svg.append("g").attr("transform", "translate(32," + (height / 2) + ")");

                function update(data) {
                    // Data join
                    // Join new data with old element, if they exist.
                    var text = g.selectAll("text")
                        .data(data);
                    
                    // Update
                    // Update old element as needed
                    text.attr("class", "update");

                    // Enter 
                    // Create new elements as need
                    //
                    // Enter + Update
                    // After merging the entered elements with the update selection, 
                    // apply operations to both.
                    text.enter().append("text")
                        .attr("class", "enter")
                    // Spaces the elements evenly along the x-axis
                        .attr("x", function(d, i) { return i * 32; })
                    // 
                        .attr("dy", ".35em")
                        .merge(text)
                        .text(function(d) { return d; });

                    //Exit
                    //Remove old elements as needed
                    text.exit().remove();
                }
                //the initial display
                update(alphabet);

                //Grab a random sample of letters from the alphabet, in alphabetical order.
                d3.interval(function() {
                    update(d3.shuffle(alphabet)
                    .slice(0, Math.floor(Math.random() * 26))
                    .sort());
                }, 1500);
                </script>
    </body>
</html>
